<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3D Product Showcase</title>

  <script type="module" crossorigin src="./assets/index-BU1VL5GY.js"></script>
  <link rel="stylesheet" crossorigin href="./assets/index-DkaWHsCG.css">
</head>
<body>
  <!-- Main container for the 3D viewer -->
  <div id="viewer-container">
  </div>

  <!-- UI Controls Container -->
  <div id="ui-controls" style="display:none">
    <!-- Button to toggle UI visibility -->
    <button id="toggle-ui-button" class="ui-toggle-button">⚙️</button> 

    <!-- Controls Container - Scrollable -->
    <div class="controls-container">
      <!-- Product Settings Section -->
      <div class="collapsible">
        <div class="collapsible-header">
          <h3>Product Settings</h3>
          <span class="toggle-icon">▶</span>
        </div>
        <div class="collapsible-content clearfix">
          <div class="control-group">
            <label for="model-type">Device Type:</label>
            <select id="model-type">
              <!-- Options populated by JS -->
            </select>
          </div>

          <div class="control-group">
            <label for="model-variant">Model:</label>
            <select id="model-variant">
              <!-- Options populated by JS based on selected type -->
            </select>
          </div>
          
          <div class="control-group device-colors">
            <label>Device Components:</label>
            <!-- Container for dynamically generated mesh/material controls -->
            <div id="device-components-list" class="component-list">
              <!-- Content generated by UIManager.js -->
            </div>
          </div>
          
          <div class="control-group" style="display: none;">
            <label for="phone-color">Phone Color:</label>
            <select id="phone-color">
              <!-- Will be populated from presets -->
            </select>
          </div>
        </div>
      </div>
      
      <!-- Display Settings Section -->
      <div class="collapsible">
        <div class="collapsible-header">
          <h3>Display Settings</h3>
          <span class="toggle-icon">▶</span>
        </div>
        <div class="collapsible-content clearfix">
          <div class="control-group">
            <label for="screen-content">Upload Screen Content:</label>
            <input type="file" id="screen-content" accept="image/*,video/*">
          </div>
          
          <div class="control-group">
            <label for="sample-screens">Sample Screens:</label>
            <select id="sample-screens">
              <!-- Will be populated from presets -->
            </select>
          </div>

          <div class="control-group" id="block-colour-picker-group" style="display: none;">
            <label for="block-colour-picker">Block Colour:</label>
            <input type="color" id="block-colour-picker" value="#000000">
          </div>

          <div class="control-group">
            <label for="device-shape">Device Shape:</label>
            <select id="device-shape">
              <option value="adapt">Adapt to Media Content</option>
              <option value="original">Original Dimensions</option>
              <option value="16:9">16:9 (Widescreen)</option>
              <option value="9:16">9:16 (Tall Screen)</option>
              <option value="4:3">4:3 (Standard)</option>
              <option value="1:1">1:1 (Square)</option>
              <option value="custom">Custom...</option>
            </select>
            <span class="tooltip">? <span class="tooltiptext">Adjust procedural device shape. Disabled for specific device models.</span></span>
          </div>

          <div id="custom-aspect-ratio-group" class="control-group" style="display: none;">
             <label for="custom-aspect-width">Custom Ratio:</label>
             <input type="number" id="custom-aspect-width" min="1" step="1" placeholder="Width" style="width: 50px;">
             <span>:</span>
             <input type="number" id="custom-aspect-height" min="1" step="1" placeholder="Height" style="width: 50px;">
          </div>

          <div class="control-group">
            <label for="display-mode">Display Mode:</label>
            <select id="display-mode">
              <option value="fit">Fit</option>
              <option value="cover">Cover</option>
              <option value="contain">Contain</option>
              <!-- Add other modes if needed -->
            </select>
          </div>

          <div class="control-group">
            <label for="mean-edge-extension">Mean Edge Extension:</label>
            <input type="checkbox" id="mean-edge-extension">
          </div>

          <div class="control-group">
            <label for="maintain-aspect-ratio">Maintain Aspect Ratio:</label>
            <input type="checkbox" id="maintain-aspect-ratio" checked>
          </div>

          <div class="control-group">
            <label for="device-orientation">Device Orientation:</label>
            <select id="device-orientation">
              <!-- Options populated by UIManager.js -->
            </select>
          </div>

          <div class="control-group">
            <label for="rotation-type">Screen Base Rotation:</label>
            <select id="rotation-type">
              <option value="0">0° (Standard)</option>
              <option value="90">90° (Clockwise)</option>
              <option value="180">180° (Upside Down)</option>
              <option value="270">270° (Counter-CW)</option>
            </select>
            <span class="tooltip">? <span class="tooltiptext">Sets the base rotation of the screen mesh relative to the device body.</span></span>
          </div>

          <div class="control-group">
            <label for="reflection-intensity">Reflection Intensity:</label>
            <input type="range" id="reflection-intensity" min="0" max="2" step="0.05" value="0.5">
            <span id="reflection-intensity-value">0.5</span>
          </div>

          <div class="control-group">
            <label for="screen-backlight">Device Backlight:</label>
            <input type="range" id="screen-backlight" min="0" max="2" step="0.1" value="1.0">
            <span id="screen-backlight-value">1.0</span>
          </div>

          <div class="control-group">
            <label for="screen-material-toggle">Use Basic Material (Faster):</label>
            <input type="checkbox" id="screen-material-toggle">
            <span class="tooltip">? <span class="tooltiptext">Toggles the screen between Standard (realistic) and Basic (unlit, potentially faster) material.</span></span>
          </div>
        </div>
      </div>
      
      <!-- Environment Settings Section -->
      <div class="collapsible">
        <div class="collapsible-header">
          <h3>Environment Settings</h3>
          <span class="toggle-icon">▶</span>
        </div>
        <div class="collapsible-content clearfix">
          <div class="control-group">
            <label for="environment">Environment:</label>
            <select id="environment">
              <!-- Will be populated from presets -->
            </select>
          </div>
          <div class="control-group">
            <label for="show-environment-bg">Show Env Background:</label>
            <input type="checkbox" id="show-environment-bg" checked>
          </div>
        </div>
      </div>
      
      <!-- Animation Controls Section -->
      <div class="collapsible">
        <div class="collapsible-header">
          <h3>Animation Controls</h3>
          <span class="toggle-icon">▶</span>
        </div>
        <div class="collapsible-content clearfix">
          <div class="control-group">
            <label for="animate-toggle">Animate:</label>
            <input type="checkbox" id="animate-toggle" checked>
          </div>
          
          <div class="control-group">
            <label for="rotation-speed">Rotation Speed:</label>
            <input type="range" id="rotation-speed" min="0.1" max="100" step="0.1" value="15">
          </div>

          <!-- Insert Animation Style Dropdown Here -->
          <div class="control-group">
            <label for="animation-style">Animation Style:</label>
            <select id="animation-style">
              <!-- Options will be populated by JS -->
            </select>
          </div>
        </div>
      </div>

      <!-- Performance Settings Section -->
      <div class="collapsible">
        <div class="collapsible-header">
          <h3>Performance Settings</h3>
          <span class="toggle-icon">▶</span>
        </div>
        <div class="collapsible-content clearfix">
          <div class="control-group">
            <label for="perf-antialias">Antialiasing:</label>
            <input type="checkbox" id="perf-antialias">
          </div>
          <div class="control-group">
            <label for="perf-preserve-buffer">Preserve Drawing Buffer:</label>
            <input type="checkbox" id="perf-preserve-buffer">
          </div>
          <div class="control-group">
            <label for="perf-shadows">Shadows Enabled:</label>
            <input type="checkbox" id="perf-shadows">
          </div>
          <div class="control-group">
            <label for="perf-pixel-ratio">High Pixel Ratio (up to 2×):</label>
            <input type="checkbox" id="perf-pixel-ratio">
            <span class="tooltip">? <span class="tooltiptext">Enable rendering at devicePixelRatio up to 2 for sharper output.</span></span>
          </div>
        </div>
      </div>

      <!-- Actions Section -->
      <div class="collapsible">
        <div class="collapsible-header">
          <h3>Actions</h3>
          <span class="toggle-icon">▶</span>
        </div>
        <div class="collapsible-content clearfix">
          <div class="control-group buttons">
            <button id="reset-view">Reset View</button>
            <button id="take-screenshot">Take Screenshot</button>
            <button id="debug-model">Debug Device Model</button>
          </div>
        </div>
      </div>

      <!-- Lighting Controls Section -->
      <div class="collapsible">
        <div class="collapsible-header">
          <h3>Lighting Controls</h3>
          <span class="toggle-icon">▶</span>
        </div>
        <div class="collapsible-content clearfix">
          <!-- Lighting Theme -->
          <div class="sub-section">
            <h4>Lighting Theme</h4>
            <div class="control-group">
              <label for="lighting-theme">Theme:</label>
              <select id="lighting-theme">
                <!-- Will be populated from presets -->
              </select>
              <div class="theme-override">
                <input type="checkbox" id="theme-override-checkbox" checked>
                <label for="theme-override-checkbox">Override individual lights</label>
              </div>
            </div>
          </div>

          <!-- Individual Light Controls -->
          <div class="sub-section">
            <h4>Individual Light Controls</h4>
            <div class="light-control">
              <div class="light-header">
                <label for="key-light-toggle">Key Light:</label>
                <input type="checkbox" id="key-light-toggle" checked>
              </div>
              <div class="light-slider">
                <span>Intensity:</span>
                <input type="range" id="key-light-intensity" min="0" max="2" step="0.1" value="1.0">
                <span id="key-light-intensity-value">1.0</span>
              </div>
              <div class="light-color">
                <span>Color:</span>
                <input type="color" id="key-light-color" value="#ffffff">
              </div>
            </div>
            
            <div class="light-control">
              <div class="light-header">
                <label for="fill-light-toggle">Fill Light:</label>
                <input type="checkbox" id="fill-light-toggle" checked>
              </div>
              <div class="light-slider">
                <span>Intensity:</span>
                <input type="range" id="fill-light-intensity" min="0" max="2" step="0.1" value="0.5">
                <span id="fill-light-intensity-value">0.5</span>
              </div>
              <div class="light-color">
                <span>Color:</span>
                <input type="color" id="fill-light-color" value="#ffffff">
              </div>
            </div>
            
            <div class="light-control">
              <div class="light-header">
                <label for="back-light-toggle">Back Light:</label>
                <input type="checkbox" id="back-light-toggle" checked>
              </div>
              <div class="light-slider">
                <span>Intensity:</span>
                <input type="range" id="back-light-intensity" min="0" max="2" step="0.1" value="0.5">
                <span id="back-light-intensity-value">0.5</span>
              </div>
              <div class="light-color">
                <span>Color:</span>
                <input type="color" id="back-light-color" value="#ffffff">
              </div>
            </div>
            
            <div class="light-control">
              <div class="light-header">
                <label for="ambient-light-toggle">Ambient Light:</label>
                <input type="checkbox" id="ambient-light-toggle" checked>
              </div>
              <div class="light-slider">
                <span>Intensity:</span>
                <input type="range" id="ambient-light-intensity" min="0" max="2" step="0.1" value="0.5">
                <span id="ambient-light-intensity-value">0.5</span>
              </div>
              <div class="light-color">
                <span>Color:</span>
                <input type="color" id="ambient-light-color" value="#ffffff">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Loading Indicator -->
  <div id="loading-indicator" style="display: none;">Loading...</div>

  <!-- Error Display -->
  <div id="error-display" style="display: none; color: red;"></div>

  <!-- Include the main JavaScript file -->


  <!-- Allow for custom configuration via a global object -->
  <script>
    // Hide the UI controls for embedded version
    window.app = window.app || {};
    window.app.config = window.app.config || {};
    window.app.config.ui = window.app.config.ui || {};
    window.app.config.ui.visible = false;
  </script>
</body>
</html> 